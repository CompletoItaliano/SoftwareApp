{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard Principal{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/inicio.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <aside class="sidebar">
        <div class="profile">
            <div class="profile-img">ğŸ‘¨</div>
            <h3>{{ user.username }}</h3>
            <button class="btn-profile">Perfil</button>
        </div>
        <ul class="menu">
            <li class="active"><a href="{% url 'inicio' %}">ğŸ  Principal</a></li>
            <li><a href="{% url 'crear_calificacion' %}">ğŸ“‹ Crear Calificacion</a></li>
            <li><a href="{% url 'carga_datos' %}">ğŸ“Š Carga de Datos</a></li>
            <li><a href="{% url 'reportes' %}">ğŸ“ˆ Reportes</a></li>
        </ul>
    </aside>

    <main class="main-content">
        <header class="header">
            <div class="greeting">
                <h1>Buenos dÃ­as<span>, {{ user.username }}</span></h1>
            </div>
            <div class="header-actions">
                <div class="search-box">
                    <span>ğŸ”</span>
                    <input type="text" placeholder="Busqueda Avanzada">
                    <span>ğŸ¤</span>
                </div>
                {% if user.is_authenticated %}
                    <a href="{% url 'logout' %}" class="btn-logout">Cerrar SesiÃ³n</a>
                {% endif %}
            </div>
        </header>

        <div class="dashboard-grid">
            <div class="card time-card">
                <div class="time-icon">ğŸ•</div>
                <div class="time-info">
                    <h2 id="current-time">10:59</h2>
                    <p id="current-date">28 de Septiembre<br>2025</p>
                </div>
            </div>

            <div class="card chart-card">
                <div class="pie-chart"></div>
                <h3>Grafico de Ganancias</h3>
            </div>

            <div class="card earnings-card">
                <h3>Ganancias</h3>
                <svg class="line-chart" viewBox="0 0 200 60">
                    <polyline points="0,50 20,45 40,30 60,35 80,20 100,25 120,15 140,20 160,10 180,15 200,8" 
                              fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>
                    <polyline points="0,50 20,45 40,30 60,35 80,20 100,25 120,15 140,20 160,10 180,15 200,8 200,60 0,60" 
                              fill="rgba(255,255,255,0.1)"/>
                </svg>
                <div class="amount">$ 4,000</div>
            </div>

            <div class="card stocks-card">
                <svg class="chart-icon" viewBox="0 0 200 80">
                    <polyline points="0,70 30,65 60,45 90,50 120,30 150,35 180,20 200,25" 
                              fill="none" stroke="rgba(255,255,255,0.8)" stroke-width="3"/>
                    <polyline points="0,40 30,35 60,55 90,50 120,60 150,45 180,50 200,40" 
                              fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>
                </svg>
                <h3>Ver Bolsa de Valores</h3>
            </div>
        </div>

        <section class="investments-section">
            <h2>Inversiones Recientes</h2>
            <div class="investment-list">
                <div class="investment-item">
                    <div class="investment-icon">ğŸ¦</div>
                    <div class="investment-info">
                        <h4>Banco Estado</h4>
                    </div>
                    <span class="status-badge status-alta">Alta</span>
                    <span class="amount">$ 1,200.00</span>
                </div>
                <div class="investment-item">
                    <div class="investment-icon">ğŸ¦</div>
                    <div class="investment-info">
                        <h4>Banco Falabella</h4>
                    </div>
                    <span class="status-badge status-baja">Baja</span>
                    <span class="amount">$ 12,999.00</span>
                </div>
            </div>
        </section>
    </main>
</div>

<script>

    function updateDateTime() {
        const now = new Date();
        

        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        document.getElementById('current-time').textContent = `${hours}:${minutes}`;
        

        const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                       'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
        const day = now.getDate();
        const month = months[now.getMonth()];
        const year = now.getFullYear();
        
        document.getElementById('current-date').innerHTML = `${day} de ${month}<br>${year}`;
    }
    

    updateDateTime();
    setInterval(updateDateTime, 1000);
</script>
{% endblock %}